version: '3.8'
services:
    db:
        image: 'postgres:latest'
        container_name: db
        ports:
            - "5432:5432"
        environment:
            - POSTGRES_DB=banka4
            - POSTGRES_USER=postgres
            - POSTGRES_PASSWORD=123
        networks:
            - backend-network
    
    redis:
        image: 'redis:latest'
        container_name: rdb
        ports:
            - "6379:6379"
    
    user-service:
        image: vzivanovic/user-service:1.0
        ports:
            - "8080:8080"
        container_name: user-service 
        restart: unless-stopped

    banka-service:
        image: vzivanovic/banka-service:1.0
        ports:
            - "8082:8082"
        container_name: banka-service 
        restart: unless-stopped
    
    berza-service:
        image: vzivanovic/berza-service:1.0
        ports:
            - "8081:8081"
        container_name: berza-service
        restart: unless-stopped
        
networks:
    backend-network:
        driver: bridge
